@use '../../mixins' as mixins

// Page Header
.page-header
  background: var(--gradient-secondary)
  color: white
  padding: var(--space-lg) 0  // Reduced from var(--space-2xl)

.header-content
  display: grid
  grid-template-columns: 1fr auto
  gap: var(--space-xl)  // Reduced from var(--space-3xl)
  align-items: center

.header-text
  opacity: 1

.page-title
  font-size: clamp(1.5rem, 3vw, 2.2rem)  // Reduced size
  margin-bottom: var(--space-sm)  // Reduced from var(--space-md)

.page-description
  font-size: 1rem  // Reduced from 1.2rem
  opacity: 0.9
  max-width: 600px

.header-stats
  display: flex
  gap: var(--space-md)  // Reduced from var(--space-lg)
  opacity: 1

.stat-card
  background: rgba(255, 255, 255, 0.1)
  backdrop-filter: blur(10px)
  border: 1px solid rgba(255, 255, 255, 0.2)
  border-radius: var(--radius-md)  // Reduced from var(--radius-lg)
  padding: var(--space-md)  // Reduced from var(--space-lg)
  text-align: center
  transition: all var(--transition-fast)
  
  &:hover
    background: rgba(255, 255, 255, 0.15)
    transform: translateY(-2px)

.stat-number
  display: block
  font-size: 1.5rem  // Reduced from 2rem
  font-weight: 700
  color: var(--accent-light)
  margin-bottom: var(--space-xs)

.stat-label
  display: block
  font-size: 0.8rem  // Reduced from 0.9rem
  opacity: 0.8

// Controls Section - New streamlined layout
.controls-section
  background: white
  border-bottom: 1px solid var(--neutral-200)
  padding: var(--space-xl) 0
  position: sticky
  top: 80px
  z-index: 50

.search-row
  display: flex
  align-items: center
  gap: var(--space-xl)
  margin-bottom: var(--space-lg)

.search-bar
  position: relative
  flex: 1
  max-width: 500px
  
  .search-icon
    position: absolute
    left: var(--space-md)
    top: 50%
    transform: translateY(-50%)
    color: var(--neutral-500)
    z-index: 1

.search-input
  width: 100%
  padding: var(--space-md) var(--space-md) var(--space-md) 2.5rem
  border: 2px solid var(--neutral-300)
  border-radius: var(--radius-lg)
  font-size: 1rem
  background: white
  transition: all var(--transition-fast)
  
  &:focus
    border-color: var(--secondary-color)
    box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.1)
    outline: none

.primary-actions
  display: flex
  gap: var(--space-md)
  align-items: center
  
  .btn
    svg
      stroke: white
      color: white

.filters-row
  display: flex
  align-items: center
  justify-content: space-between
  gap: var(--space-xl)

.filter-controls
  display: flex
  gap: var(--space-md)
  align-items: center
  
  select
    padding: var(--space-sm) var(--space-md)
    border: 2px solid var(--neutral-300)
    border-radius: var(--radius-md)
    background: white
    font-size: 0.9rem
    color: var(--neutral-700)
    min-width: 160px
    transition: all var(--transition-fast)
    
    &:focus
      border-color: var(--secondary-color)
      box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.1)
      outline: none

.filter-actions
  display: flex
  gap: var(--space-md)
  align-items: center
  
  .btn
    svg
      stroke: white
      color: white

// Results Section - Clean separated styling
.results-section
  background: var(--neutral-50)
  border-bottom: 1px solid var(--neutral-200)
  padding: var(--space-lg) 0

.results-info
  display: flex
  justify-content: space-between
  align-items: center
  gap: var(--space-xl)

.results-count
  .count-text
    color: var(--neutral-700)
    font-size: 1rem
    font-weight: 500

.bulk-actions
  display: flex
  gap: var(--space-lg)
  align-items: center

.selected-count
  color: var(--primary-color)
  font-weight: 600
  font-size: 0.95rem

.btn-link
  background: none
  border: none
  color: var(--secondary-color)
  text-decoration: underline
  cursor: pointer
  font-size: 0.9rem
  padding: var(--space-xs) 0
  
  &:hover
    color: var(--secondary-dark)
    text-decoration: none

// Main Inventory Section
.inventory-section
  padding: var(--space-xl) 0 var(--space-3xl)

// Empty States
.empty-state
  text-align: center
  padding: var(--space-3xl)
  color: var(--neutral-600)

.empty-icon
  margin-bottom: var(--space-xl)
  opacity: 0.6
  
  svg
    color: var(--neutral-400)

.empty-title
  font-size: 1.5rem
  color: var(--neutral-800)
  margin-bottom: var(--space-md)

.empty-description
  font-size: 1.1rem
  margin-bottom: var(--space-xl)
  max-width: 500px
  margin-left: auto
  margin-right: auto

.empty-actions
  display: flex
  gap: var(--space-md)
  justify-content: center

// Inventory Grid
.inventory-grid-section
  padding: var(--space-lg) 0 var(--space-2xl)  // Reduced top/bottom padding

.inventory-grid
  @include mixins.responsive-grid(320px)  // Slightly smaller minimum width for more columns

.inventory-card
  display: flex
  flex-direction: column
  background: white
  border-radius: var(--radius-lg)
  box-shadow: var(--shadow-md)
  transition: all var(--transition-fast)
  position: relative
  border: 1px solid var(--neutral-100)
  overflow: hidden
  height: 100%
  
  &:hover
    transform: translateY(-4px)
    box-shadow: var(--shadow-lg)
    border-color: var(--neutral-200)
    
  &.expired
    border-left: 4px solid var(--error-color)
    
  &.needs-service
    border-left: 4px solid var(--warning-color)
    
  &.selected
    border: 2px solid var(--primary-color)
    box-shadow: 0 0 0 2px var(--primary-light)

.card-header
  display: flex
  flex-direction: column
  gap: var(--space-xs)
  padding: var(--space-md)
  border-bottom: 1px solid var(--neutral-100)

.card-status
  display: flex
  align-items: center
  gap: var(--space-sm)
  padding: var(--space-xs) var(--space-md)
  border-radius: var(--radius-lg)
  font-size: 0.85rem
  font-weight: 600
  text-transform: uppercase
  letter-spacing: 0.05em

.status-indicator
  width: 8px
  height: 8px
  border-radius: 50%
  flex-shrink: 0

.status-active
  background: rgba(46, 125, 50, 0.1)
  color: var(--success-color)
  
  .status-indicator
    background: var(--success-color)

.status-inactive
  background: rgba(158, 158, 158, 0.1)
  color: var(--neutral-600)
  
  .status-indicator
    background: var(--neutral-600)

.status-warning
  background: rgba(245, 124, 0, 0.1)
  color: var(--warning-color)
  
  .status-indicator
    background: var(--warning-color)

.status-expired
  background: rgba(198, 40, 40, 0.1)
  color: var(--error-color)
  
  .status-indicator
    background: var(--error-color)

.card-actions
  display: flex
  justify-content: space-around
  gap: var(--space-sm)
  padding: var(--space-md) var(--space-md) var(--space-sm)
  border-top: 1px solid var(--neutral-100)
  margin-top: auto
  background: var(--neutral-50)

// Card Icon Button Styling
.btn-icon
  display: flex
  justify-content: center
  align-items: center
  width: 40px
  height: 40px
  border: 1px solid var(--neutral-200)
  border-radius: var(--radius-md)
  background: var(--neutral-100)
  color: var(--neutral-700)
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1)
  cursor: pointer
  transition: all var(--transition-fast)
  margin-bottom: var(--space-xs)
  
  svg
    width: 20px
    height: 20px
    stroke: currentColor
    fill: none
    stroke-width: 2px
    stroke-linecap: round
    stroke-linejoin: round
    transition: all var(--transition-fast)
    color: inherit  // Ensure SVG inherits color from parent
  
  &:hover
    background: var(--primary-light)
    color: var(--primary-color)
    border-color: var(--primary-color)
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15)
    
    svg
      stroke-width: 2.5px
      
  &:active
    transform: scale(0.95)
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1)
    
  &:focus-visible
    outline: 2px solid var(--primary-color)
    outline-offset: 2px
    
  &.danger
    color: var(--error-color)
    
    &:hover
      background: var(--error-light)
      color: var(--error-color)
      border-color: var(--error-color)

.card-content
  padding: var(--space-md)
  flex-grow: 1
  display: flex
  flex-direction: column
  gap: var(--space-md)

.tag-section
  display: flex
  justify-content: space-between
  align-items: center

.item-tag
  font-size: 1.1rem
  font-weight: 600
  color: var(--neutral-900)
  margin: 0

.status-badge
  font-size: 0.8rem
  font-weight: 600
  padding: var(--space-xs) var(--space-sm)
  border-radius: var(--radius-full)
  text-transform: uppercase
  letter-spacing: 0.5px
  
  &.status-active
    background: var(--success-light)
    color: var(--success-dark)
    
  &.status-inactive
    background: var(--neutral-200)
    color: var(--neutral-700)
    
  &.status-needs-service
    background: var(--warning-light)
    color: var(--warning-dark)
    
  &.status-expired
    background: var(--error-light)
    color: var(--error-dark)

.type-info
  display: flex
  gap: var(--space-sm)
  font-size: 0.9rem
  color: var(--neutral-700)
  
  .item-capacity
    color: var(--neutral-500)
    
.location-info
  background: var(--neutral-50)
  padding: var(--space-sm)
  border-radius: var(--radius-md)
  
  .location-label
    font-size: 0.8rem
    color: var(--neutral-500)
    margin-bottom: var(--space-xs)
    
  .location-value
    font-size: 0.9rem
    color: var(--neutral-800)
    
.service-info
  display: flex
  flex-direction: column
  gap: var(--space-xs)

.service-row
  display: flex
  justify-content: space-between
  font-size: 0.85rem
  
  .service-label
    color: var(--neutral-500)
    
  .service-value
    color: var(--neutral-800)
    font-weight: 500
    
    &.overdue
      color: var(--error-color)
      font-weight: 600

.card-details
  margin-bottom: var(--space-lg)

.detail-row
  display: flex
  justify-content: space-between
  align-items: center
  padding: var(--space-sm) 0
  border-bottom: 1px solid var(--neutral-100)
  
  &:last-child
    border-bottom: none

.detail-label
  font-size: 0.9rem
  color: var(--neutral-600)
  font-weight: 500

.detail-value
  font-weight: 600
  color: var(--neutral-800)
  text-align: right
  
  &.urgent
    color: var(--error-color)
    font-weight: 700

.card-footer
  display: flex
  gap: var(--space-sm)
  padding: var(--space-lg)
  background: var(--neutral-50)
  border-top: 1px solid var(--neutral-100)

.quick-action
  flex: 1
  font-size: 0.85rem
  padding: var(--space-sm) var(--space-md)

.btn-sm
  padding: var(--space-sm) var(--space-md)
  font-size: 0.9rem

// Compact layout improvements
.search-and-actions
  display: flex
  justify-content: space-between
  align-items: flex-start
  gap: var(--space-lg)
  margin-bottom: var(--space-sm)
  
  .search-input-group
    flex: 1
    max-width: 400px
    margin-bottom: 0
    
  .toolbar-actions
    flex-shrink: 0

// Mobile Responsiveness
@media (max-width: 768px)
  .page-header
    padding: var(--space-md) 0  // More compact on tablets
    
  .header-content
    grid-template-columns: 1fr
    gap: var(--space-lg)  // Reduced gap
    text-align: center
    
  .header-stats
    justify-content: center
    
  .search-and-actions
    flex-direction: column
    gap: var(--space-md)
    
    .search-input-group
      max-width: none
      
  .toolbar
    flex-direction: column
    align-items: stretch
    gap: var(--space-sm)  // Reduced gap
    
  .search-filters
    max-width: none
    
  .filter-group
    justify-content: center
    
  .filter-select
    min-width: 120px  // Smaller minimum width
    
  .toolbar-actions
    justify-content: center
    flex-wrap: wrap
    
  .summary-content
    flex-direction: column
    gap: var(--space-sm)  // Reduced gap
    text-align: center
    
  .empty-actions
    flex-direction: column
    align-items: center
    
  .card-footer
    flex-direction: column

  .search-row
    flex-direction: column
    gap: var(--space-lg)
    align-items: stretch
    
  .search-bar
    max-width: none
    
  .primary-actions
    justify-content: center
    
  .filters-row
    flex-direction: column
    gap: var(--space-lg)
    align-items: stretch
    
  .filter-controls
    justify-content: center
    flex-wrap: wrap
    
    select
      min-width: 140px
      
  .filter-actions
    justify-content: center
    
  .results-info
    flex-direction: column
    gap: var(--space-md)
    text-align: center
    
  .bulk-actions
    justify-content: center

@media (max-width: 480px)
  .page-header
    padding: var(--space-sm) 0  // Very compact on mobile
    
  .page-title
    font-size: 1.5rem  // Smaller title on mobile
    
  .stat-card
    flex: 1
    padding: var(--space-sm)  // Smaller padding
    
  .stat-number
    font-size: 1.2rem  // Smaller numbers
    
  .controls-section
    padding: var(--space-lg) 0
    
  .filter-controls
    flex-direction: column
    gap: var(--space-sm)
    
    select
      width: 100%
      min-width: none
      
  .filter-actions
    flex-direction: column
    
    .btn
      width: 100%

// Floating Action Button (FAB)
.fab
  position: fixed
  bottom: var(--space-xl)
  right: var(--space-xl)
  width: 56px
  height: 56px
  border-radius: var(--radius-full)
  background: var(--primary-color)
  color: white
  border: none
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15)
  cursor: pointer
  display: flex
  justify-content: center
  align-items: center
  z-index: 100
  transition: all 0.2s ease-in-out
  
  .fab-content
    display: flex
    flex-direction: column
    align-items: center
    justify-content: center
    gap: var(--space-xs)
  
  svg
    width: 24px
    height: 24px
    stroke: white
    fill: none
    stroke-width: 2.5px
    stroke-linecap: round
    stroke-linejoin: round
    transition: all 0.2s ease-in-out
    color: white // Explicitly setting color
  
  .fab-label
    font-size: 0.7rem
    font-weight: 500
    text-transform: uppercase
    color: white
    letter-spacing: 0.05em
  
  &:hover
    background: var(--primary-dark)
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.2)
    transform: translateY(-2px)
    
    svg
      transform: scale(1.1)
  
  &:active
    transform: scale(0.95)
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2)
    
  &:focus-visible
    outline: 3px solid var(--primary-light)
    outline-offset: 3px
    
  @media (min-width: 769px)
    display: none  // Hide on desktop, already have Add button in header

.card-selection
  position: absolute
  top: var(--space-md)
  right: var(--space-md)
  z-index: 10

.checkbox-label
  display: flex
  align-items: center
  cursor: pointer

.selection-checkbox
  position: absolute
  opacity: 0
  width: 0
  height: 0

.checkbox-indicator
  display: flex
  align-items: center
  justify-content: center
  width: 22px
  height: 22px
  border-radius: var(--radius-md)
  border: 2px solid var(--neutral-300)
  background: white
  transition: all var(--transition-fast)
  
  &::after
    content: ""
    display: none
    width: 6px
    height: 10px
    border: solid white
    border-width: 0 2px 2px 0
    transform: rotate(45deg)
    margin-bottom: 2px
    
  .selection-checkbox:checked + &
    background: var(--primary-color)
    border-color: var(--primary-color)
    
    &::after
      display: block
      
  .selection-checkbox:focus + &
    box-shadow: 0 0 0 3px var(--primary-light)
    
  &:hover
    border-color: var(--primary-color)

.action-wrapper
  display: flex
  flex-direction: column
  align-items: center
  gap: var(--space-xs)

.action-label
  font-size: 0.7rem
  color: var(--neutral-600)
  font-weight: 500
  text-transform: uppercase
  letter-spacing: 0.03em
  
  &.danger
    color: var(--error-color)
