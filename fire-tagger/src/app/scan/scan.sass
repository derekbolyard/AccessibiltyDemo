@use '../../mixins' as mixins

// Page Header
.page-header
  background: var(--gradient-secondary)
  color: white
  padding: var(--space-2xl) 0
  text-align: center

.page-title
  font-size: clamp(2rem, 4vw, 3rem)
  margin-bottom: var(--space-md)

.page-description
  font-size: 1.2rem
  opacity: 0.9
  max-width: 600px
  margin: 0 auto

// Main Scan Interface
.scan-interface
  padding: var(--space-3xl) 0
  background: var(--neutral-50)

.scan-grid
  display: grid
  grid-template-columns: 1fr 1fr
  gap: var(--space-3xl)
  max-width: 1400px
  margin: 0 auto

// Camera Section
.camera-section
  opacity: 1

.camera-container
  position: relative
  background: var(--neutral-900)
  border-radius: var(--radius-lg)
  overflow: hidden
  aspect-ratio: 4/3
  @include mixins.shadow('lg')

.camera-preview
  width: 100%
  height: 100%
  object-fit: cover
  border-radius: var(--radius-lg)

.camera-placeholder
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  height: 100%
  color: var(--neutral-400)
  text-align: center
  padding: var(--space-xl)

.placeholder-icon
  margin-bottom: var(--space-lg)
  opacity: 0.7
  
  svg
    color: var(--neutral-500)

.placeholder-title
  font-size: 1.5rem
  color: var(--neutral-600)
  margin-bottom: var(--space-md)

.placeholder-text
  color: var(--neutral-500)
  line-height: 1.5

// Scanning Overlay
.scan-overlay
  position: absolute
  top: 0
  left: 0
  right: 0
  bottom: 0
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  z-index: 10

.scan-frame
  position: relative
  width: 300px
  height: 200px
  border: 2px solid rgba(255, 143, 0, 0.8)
  border-radius: var(--radius-md)
  
  // Animated corners
  .corner
    position: absolute
    width: 30px
    height: 30px
    border: 3px solid var(--accent-color)
    
    &.top-left
      top: -3px
      left: -3px
      border-right: none
      border-bottom: none
      
    &.top-right
      top: -3px
      right: -3px
      border-left: none
      border-bottom: none
      
    &.bottom-left
      bottom: -3px
      left: -3px
      border-right: none
      border-top: none
      
    &.bottom-right
      bottom: -3px
      right: -3px
      border-left: none
      border-top: none

.scan-instructions
  margin-top: var(--space-lg)
  background: rgba(0, 0, 0, 0.7)
  color: white
  padding: var(--space-md) var(--space-lg)
  border-radius: var(--radius-md)
  backdrop-filter: blur(10px)
  
  p
    margin: 0
    font-weight: 500

// Processing Overlay
.processing-overlay
  position: absolute
  top: 0
  left: 0
  right: 0
  bottom: 0
  background: rgba(0, 0, 0, 0.8)
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  color: white
  z-index: 20

.processing-spinner
  margin-bottom: var(--space-lg)

.spinner
  width: 60px
  height: 60px
  border: 4px solid rgba(255, 143, 0, 0.3)
  border-top: 4px solid var(--accent-color)
  border-radius: 50%
  animation: spin 1s linear infinite

@keyframes spin
  0%
    transform: rotate(0deg)
  100%
    transform: rotate(360deg)

.processing-text
  font-size: 1.1rem
  font-weight: 500

// Camera Controls
.camera-controls
  margin-top: var(--space-xl)
  display: flex
  justify-content: center
  gap: var(--space-md)

.btn-large
  padding: var(--space-lg) var(--space-2xl)
  font-size: 1.1rem
  font-weight: 600

.capture-btn
  background: var(--gradient-accent)
  color: var(--neutral-900)
  @include mixins.pulse
  
  &:hover
    background: var(--gradient-accent)
    transform: translateY(-2px) scale(1.05)

.active-controls
  display: flex
  gap: var(--space-md)

// Results Section
.results-section
  opacity: 1

.results-card, .tips-card
  @include mixins.card
  padding: var(--space-2xl)
  margin-bottom: var(--space-xl)

.results-title, .tips-title
  font-size: 1.5rem
  color: var(--neutral-900)
  margin-bottom: var(--space-lg)

.results-empty
  text-align: center
  padding: var(--space-2xl)
  color: var(--neutral-500)
  
  svg
    margin-bottom: var(--space-md)
    opacity: 0.5
    
  p
    font-size: 1.1rem
    margin-bottom: var(--space-sm)
    
  small
    opacity: 0.7

.scan-results
  animation: fadeIn 0.5s ease-out

.result-item
  margin-bottom: var(--space-xl)

.result-label
  display: block
  font-weight: 600
  color: var(--neutral-700)
  margin-bottom: var(--space-sm)

.result-content
  background: var(--neutral-100)
  border-radius: var(--radius-md)
  padding: var(--space-lg)
  border: 1px solid var(--neutral-200)

.extracted-text
  font-family: 'Courier New', monospace
  font-size: 0.9rem
  line-height: 1.4
  margin: 0
  white-space: pre-wrap
  color: var(--neutral-800)

.parsed-data
  margin-top: var(--space-xl)
  padding-top: var(--space-xl)
  border-top: 2px solid var(--neutral-200)

.parsed-title
  font-size: 1.2rem
  color: var(--primary-color)
  margin-bottom: var(--space-lg)

.data-grid
  display: grid
  gap: var(--space-md)

.data-item
  display: flex
  justify-content: space-between
  align-items: center
  padding: var(--space-md)
  background: white
  border-radius: var(--radius-sm)
  border: 1px solid var(--neutral-200)
  transition: all var(--transition-fast)
  
  &:hover
    border-color: var(--primary-color)
    transform: translateX(4px)

.data-label
  font-weight: 600
  color: var(--neutral-700)

.data-value
  font-weight: 500
  color: var(--primary-color)
  background: rgba(183, 28, 28, 0.1)
  padding: var(--space-xs) var(--space-sm)
  border-radius: var(--radius-sm)

.result-actions
  margin-top: var(--space-xl)
  display: flex
  gap: var(--space-md)

// Error State
.scan-error
  display: flex
  align-items: flex-start
  gap: var(--space-md)
  padding: var(--space-lg)
  background: rgba(198, 40, 40, 0.1)
  border: 1px solid var(--error-color)
  border-radius: var(--radius-md)
  color: var(--error-color)
  
  svg
    flex-shrink: 0
    margin-top: 2px

.error-content
  h3
    color: var(--error-color)
    margin-bottom: var(--space-sm)
    
  p
    margin-bottom: var(--space-md)
    color: var(--neutral-700)

// Tips Section
.tips-list
  list-style: none
  padding: 0
  
  li
    display: flex
    align-items: flex-start
    gap: var(--space-md)
    padding: var(--space-md) 0
    border-bottom: 1px solid var(--neutral-200)
    
    &:last-child
      border-bottom: none
      
    svg
      flex-shrink: 0
      color: var(--accent-color)
      margin-top: 2px

// Mobile Responsive
@media (max-width: 768px)
  .scan-grid
    grid-template-columns: 1fr
    gap: var(--space-xl)
    
  .scan-frame
    width: 250px
    height: 150px
    
  .camera-controls
    flex-direction: column
    align-items: center
    
  .active-controls
    flex-direction: column
    width: 100%
    
    .btn
      width: 100%
      
  .result-actions
    flex-direction: column
    
    .btn
      width: 100%

@media (max-width: 480px)
  .page-header
    padding: var(--space-xl) 0
    
  .scan-interface
    padding: var(--space-xl) 0
    
  .camera-container
    aspect-ratio: 3/4
    
  .scan-frame
    width: 200px
    height: 120px

// Animations
@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1
