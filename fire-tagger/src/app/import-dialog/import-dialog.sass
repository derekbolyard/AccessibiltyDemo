@use '../../mixins' as mixins

// Dialog Overlay
.dialog-overlay
  position: fixed
  top: 0
  left: 0
  right: 0
  bottom: 0
  background: rgba(0, 0, 0, 0.6)
  backdrop-filter: blur(8px)
  z-index: 1000
  display: flex
  align-items: center
  justify-content: center
  padding: var(--space-lg)
  animation: fadeInOverlay 0.3s ease-out

.dialog
  background: white
  border-radius: var(--radius-xl)
  box-shadow: var(--shadow-xl)
  max-width: 700px
  width: 100%
  max-height: 90vh
  overflow-y: auto
  animation: slideInDialog 0.3s ease-out
  border: 1px solid var(--neutral-200)

// Dialog Header
.dialog-header
  display: flex
  align-items: flex-start
  gap: var(--space-lg)
  padding: var(--space-2xl)
  border-bottom: 1px solid var(--neutral-200)
  background: var(--gradient-secondary)
  color: white
  border-radius: var(--radius-xl) var(--radius-xl) 0 0

.header-icon
  width: 48px
  height: 48px
  background: rgba(255, 255, 255, 0.1)
  backdrop-filter: blur(10px)
  border-radius: var(--radius-md)
  display: flex
  align-items: center
  justify-content: center
  flex-shrink: 0
  border: 1px solid rgba(255, 255, 255, 0.2)

.header-text
  flex: 1

.dialog-title
  font-size: 1.8rem
  margin-bottom: var(--space-sm)
  font-weight: 700

.dialog-subtitle
  opacity: 0.9
  margin: 0
  font-size: 1.1rem

.close-button
  background: rgba(255, 255, 255, 0.1)
  border: 1px solid rgba(255, 255, 255, 0.2)
  color: white
  width: 40px
  height: 40px
  border-radius: var(--radius-md)
  display: flex
  align-items: center
  justify-content: center
  cursor: pointer
  transition: all var(--transition-fast)
  flex-shrink: 0
  
  &:hover
    background: rgba(255, 255, 255, 0.2)
    transform: scale(1.05)

// Dialog Content
.dialog-content
  padding: var(--space-2xl)

.upload-section
  margin-bottom: var(--space-2xl)

.upload-area
  border: 3px dashed var(--neutral-300)
  border-radius: var(--radius-lg)
  padding: var(--space-3xl)
  text-align: center
  cursor: pointer
  transition: all var(--transition-fast)
  background: var(--neutral-50)
  position: relative
  
  &:hover
    border-color: var(--secondary-color)
    background: rgba(13, 71, 161, 0.05)
    transform: translateY(-2px)
    
  &.drag-over
    border-color: var(--secondary-color)
    background: rgba(13, 71, 161, 0.1)
    transform: scale(1.02)

.file-input
  position: absolute
  opacity: 0
  pointer-events: none

.upload-icon
  margin-bottom: var(--space-lg)
  
  svg
    color: var(--secondary-color)
    opacity: 0.7

.upload-text
  max-width: 400px
  margin: 0 auto

.upload-title
  font-size: 1.3rem
  color: var(--neutral-900)
  margin-bottom: var(--space-sm)
  font-weight: 600

.upload-description
  color: var(--neutral-600)
  margin: 0
  font-size: 1rem

// File Info
.file-info
  margin-top: var(--space-xl)

.file-preview
  @include mixins.card
  padding: var(--space-lg)
  display: flex
  align-items: center
  gap: var(--space-lg)
  background: rgba(46, 125, 50, 0.05)
  border: 1px solid rgba(46, 125, 50, 0.2)

.file-icon
  width: 40px
  height: 40px
  background: var(--success-color)
  color: white
  border-radius: var(--radius-md)
  display: flex
  align-items: center
  justify-content: center
  flex-shrink: 0

.file-details
  flex: 1
  display: flex
  flex-direction: column
  gap: var(--space-xs)

.file-name
  font-weight: 600
  color: var(--neutral-900)
  font-size: 1rem

.file-size
  color: var(--neutral-600)
  font-size: 0.9rem

.remove-file
  background: rgba(198, 40, 40, 0.1)
  border: 1px solid rgba(198, 40, 40, 0.2)
  color: var(--error-color)
  width: 32px
  height: 32px
  border-radius: var(--radius-sm)
  display: flex
  align-items: center
  justify-content: center
  cursor: pointer
  transition: all var(--transition-fast)
  
  &:hover
    background: rgba(198, 40, 40, 0.2)
    transform: scale(1.1)

// Format Info
.format-info
  background: var(--neutral-50)
  border-radius: var(--radius-lg)
  padding: var(--space-xl)
  border: 1px solid var(--neutral-200)

.info-title
  font-size: 1.2rem
  color: var(--neutral-900)
  margin-bottom: var(--space-lg)
  font-weight: 600

.format-description
  color: var(--neutral-700)
  margin-bottom: var(--space-lg)
  font-size: 1rem

.columns-grid
  display: grid
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr))
  gap: var(--space-md)

.column-item
  background: white
  border-radius: var(--radius-md)
  padding: var(--space-lg)
  border: 1px solid var(--neutral-200)
  transition: all var(--transition-fast)
  
  &:hover
    transform: translateY(-1px)
    box-shadow: var(--shadow-sm)

.column-name
  display: block
  font-weight: 700
  color: var(--secondary-color)
  font-family: 'Courier New', monospace
  font-size: 0.95rem
  margin-bottom: var(--space-xs)

.column-description
  display: block
  color: var(--neutral-600)
  font-size: 0.9rem
  line-height: 1.4

// Dialog Actions
.dialog-actions
  display: flex
  gap: var(--space-md)
  justify-content: flex-end
  padding: var(--space-2xl)
  border-top: 1px solid var(--neutral-200)
  background: var(--neutral-50)
  border-radius: 0 0 var(--radius-xl) var(--radius-xl)

.processing-text
  display: flex
  align-items: center
  gap: var(--space-sm)

.spinner
  animation: spin 1s linear infinite

// Animations
@keyframes fadeInOverlay
  from
    opacity: 0
  to
    opacity: 1

@keyframes slideInDialog
  from
    opacity: 0
    transform: translateY(-20px) scale(0.95)
  to
    opacity: 1
    transform: translateY(0) scale(1)

@keyframes spin
  from
    transform: rotate(0deg)
  to
    transform: rotate(360deg)

// Responsive Design
@media (max-width: 768px)
  .dialog-overlay
    padding: var(--space-md)
    
  .dialog
    max-height: 95vh
    
  .dialog-header,
  .dialog-content,
  .dialog-actions
    padding: var(--space-lg)
    
  .upload-area
    padding: var(--space-xl)
    
  .columns-grid
    grid-template-columns: 1fr
    
  .dialog-actions
    flex-direction: column-reverse

@media (max-width: 480px)
  .file-preview
    flex-direction: column
    text-align: center
    
  .file-details
    align-items: center
    
  .column-item
    text-align: center

// Accessibility
@media (prefers-reduced-motion: reduce)
  .dialog-overlay,
  .dialog,
  .upload-area,
  .spinner
    animation: none
    
  .upload-area:hover,
  .column-item:hover,
  .remove-file:hover
    transform: none

@media (prefers-contrast: high)
  .upload-area
    border-width: 4px
    
  .file-preview
    border-width: 2px
    
  .column-item
    border-width: 2px
